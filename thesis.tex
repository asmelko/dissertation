%%% The main file. It contains definitions of basic parameters and includes all other parts.

\documentclass[12pt,twoside,openright,a4paper]{report}
\let\openright=\cleardoublepage

%% Generate PDF/A-2u
\usepackage[a-2u]{pdfx}

\usepackage{fontspec}
\setmainfont{Libertinus Serif}
\setsansfont{Libertinus Sans}
\newfontfamily\figfamily{IBM Plex Sans Extra Light}[BoldFont={IBM Plex Sans Medium},Scale=.86]
%\newfontfamily\figfamily{Roboto Thin}[BoldFont={Roboto Bold}]
%\setmonofont{TeX Gyre Cursor}[Ligatures=CommonOff]
\setmonofont{IBM Plex Mono Light}[BoldFont={IBM Plex Mono Semibold}, Ligatures=CommonOff,Scale=0.86]
%\setmainfont{Merriweather Light}[BoldFont={Merriweather Bold},BoldItalicFont={Merriweather Bold Italic},Scale=.8]
%\setsansfont{Merriweather Sans Light}[BoldFont={Merriweather Sans Bold},BoldItalicFont={Merriweather Sans Bold Italic},Scale=.8]


\usepackage{amsmath,amsfonts,amsthm}
\usepackage{unicode-math}
\usepackage{pdfpages}
\usepackage{graphicx}
\usepackage{marginnote}
\usepackage{ifoddpage}
\usepackage[all]{nowidow}
\usepackage[shortlabels]{enumitem}

\usepackage{listings}

\usepackage{algpseudocode}
\usepackage{algorithm}
\usepackage{caption}
\DeclareCaptionFont{fig}{\figfamily}
\captionsetup{font={footnotesize,fig},labelfont=bf,labelsep=quad}
\DeclareCaptionStyle{ruled}{font={footnotesize,fig},labelfont=bf,labelsep=quad,strut=off}

\usepackage{chngcntr}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
%\usepackage{yfonts}
%\renewcommand{\familydefault}{\frakdefault}
\usepackage[natbib,style=ext-numeric-comp,sorting=none,articlein=false,maxnames=6,maxcitenames=1]{biblatex}
\addbibresource{bibliography.bib}
\addbibresource{myrefs.bib}
%\DeclareNameAlias{sortname}{family-given}
%\DeclareNameAlias{default}{family-given}
\DeclareFieldFormat*{volume}{\mkbibbold{#1}}
\DeclareDelimFormat{namelabeldelim}{~}
\renewcommand*{\bibfont}{\small}

\usepackage{booktabs}
\usepackage{xcolor}

\usepackage{tikz}
\usetikzlibrary{shapes,decorations.markings,positioning,calc,arrows.meta,matrix,fit,decorations.pathreplacing}
\pgfdeclarelayer{background}
\pgfsetlayers{background,main}

\usepackage{chemfig}

\usepackage{minted}
\usemintedstyle{vs}
\colorlet{LightGray}{black!3}
\newmintedfile[inputmintedcpp]{c++}{bgcolor=LightGray,tabsize=2,fontsize=\scriptsize,linenos,breaklines,escapeinside=\#\#}
\def\FancyVerbVspace{0pt}
\AtBeginEnvironment{minted@colorbg}{\setlength{\medskipamount}{0pt}}

\usepackage{subcaption}

\newcommand{\xxx}[1]{\textcolor{red}{#1}}


%%% Basic information on the thesis

% Thesis title in English (exactly as in the formal assignment)
\def\ThesisTitle{Employing Parallel Computing in Data-Intensive Tasks}

% Author of the thesis
\def\ThesisAuthor{Adam Šmelko}

% Year when the thesis is submitted
\def\YearSubmitted{2024}

% Name of the department or institute, where the work was officially assigned
% (according to the Organizational Structure of MFF UK in English,
% or a full name of a department outside MFF)
\def\Department{Department of Distributed and Dependable Systems}

% Is it a department (katedra), or an institute (ústav)?
\def\DeptType{Department}

% Thesis supervisor: name, surname and titles
\def\Supervisor{Martin Kruliš}

% Supervisor's department (again according to Organizational structure of MFF)
\def\SupervisorsDepartment{Department of Distributed and Dependable Systems}

% Study programme and specialization
\def\StudyProgramme{Computer Science}
\def\StudyBranch{Software Systems}

% An optional dedication: you can thank whomever you wish (your supervisor,
% consultant, a person who lent the software, etc.)
\def\Dedication{%
Dedication.
}

% Abstract (recommended length around 80-200 words; this is not a copy of your thesis assignment!)
\def\Abstract{%
Abstract.
}

% 3 to 5 keywords (recommended), each enclosed in curly braces
\def\Keywords{%
{key} {words}
}

\hypersetup{unicode}
\hypersetup{breaklinks=true}
\hypersetup{hidelinks}

\usepackage[capitalize]{cleveref}

\input{macros}

\begin{document}
\include{title}
\tableofcontents
\include{preface}
\include{publications}

\pagestyle{plain}
\pagenumbering{arabic}
\setcounter{page}{1}
\part{Commentary}\label{part:comments}
\include{introduction}
\include{gpu-optims}
\include{noarr}
\include{outro}
\part{Contributions}\label{part:contribs}
\include{contributions}
\include{bibliography}

\openright
\end{document}
